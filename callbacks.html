<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Callbacks</title>
  </head>
  <body id='estructura'>
    <strong id="agenda">Estoy despertando</strong>
    <script>
    const DESPERTAR = 3000
    const DESAYUNAR = 2000
    const VIAJAR = 2000
    const ESTUDIAR = 4000
    const TRABAJAR = 5000
    const $agenda = document.getElementById('agenda')
    // const $estructura = document.body

    // // const despertar = new Promise((una función de que todo esta bien, todo esta mal)=>{
    // //
    // // })
    // const despertar = new Promise((resolve, reject) => {
    //   setTimeout(() => {
    //     // resolve('Ahora estoy desayunando')
    //     reject('Lo siento...')
    //   }, DESPERTAR)
    // })
    //
    // // despertar.then(que quiero hacer si todo esta ok)
    // // despertar.catch(que quiero hacer si todo esta mal)
    //   despertar
    //   .then((message) => {
    //     console.log(message);
    //   })
    //   .catch((message) => {
    //     console.log(message);
    //   })


    function despertar() {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve('Ahora estoy desayunando...')
        }, DESPERTAR)
      })
    }

    // 'mesagge' contiene el string 'Ahora estoy desayunando'
    function desayunar(message) {
      $agenda.textContent = message
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve('Ya estoy viajando...')
        }, DESAYUNAR)
      })
    }

    function viajar(message) {
      $agenda.textContent = message
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve('Es hora de estudiar...')
        }, VIAJAR)
      })
    }

    function estudiar(message) {
      $agenda.textContent = message
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          let inside = prompt('Vas a estudiar?').toLowerCase()
          const resultado = (inside == 'si') ? resolve('Estudia 20min y descansa'):
          reject('Hoy es un buen día para descansar de tus estudios')
          // resolve('Ahora estoy trabajando...')
          // reject('No hay nuevo contenido para estudiar')
        }, ESTUDIAR)
      })
    }

    // function trabajar(message) {
    //   $agenda.textContent = message
    //   return new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //       resolve('Llegando al trabajo...')
    //     }, TRABAJAR)
    //   })
    // }

    function error(message) {
      document.body.style.background = 'lightblue'
      $agenda.textContent = message
    }

    despertar()
    .then(desayunar)
    .then(viajar)
    .then(estudiar)
    .then((message) => $agenda.textContent = message)
    .catch(error)


    </script>
  </body>
</html>
